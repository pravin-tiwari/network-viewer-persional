{"version":3,"file":"Dropdown.js","sources":["../../../src/Components/Common/Dropdown.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\n\nimport Styles from './Dropdown.styles.scss';\nimport Button from './Button';\n\nconst context = classNames.bind(Styles);\n\nconst Dropdown = ({ items, selected, onChange, className }) => {\n  const [isExpand, setExpand] = useState(false);\n  const [selectedKey, setSelection] = useState(selected !== null ? selected : items[0]);\n  const dropdownItemsRef = useRef(null);\n  const isExpandRef = useRef(isExpand);\n\n  const updateToggle = (toggleState) => {\n    setExpand(toggleState);\n    isExpandRef.current = toggleState;\n  };\n\n  const handleItemSelection = (key) => {\n    setSelection(key);\n    onChange(key);\n    updateToggle(false);\n  };\n\n  const removeFocus = ({ target }) => {\n    if (isExpandRef.current && !dropdownItemsRef.current.contains(target)) {\n      updateToggle(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', removeFocus);\n\n    return () => {\n      window.removeEventListener('click', removeFocus);\n    };\n  }, []);\n\n  return (\n    <span\n      ref={dropdownItemsRef}\n      className={context('dropdown-container', className, { expanded: isExpand })}\n    >\n      <Button\n        category=\"default\"\n        className={context('dropdown-toggle', { active: isExpand })}\n        material\n        onClick={() => updateToggle(!isExpand)}\n        raised={isExpand}\n        size=\"sm\"\n      >\n        {selectedKey}\n      </Button>\n      {isExpand && (\n        <ul className={Styles.list}>\n          {items.map((text, index) => (\n            <li\n              key={text}\n              className={context('list-item', { active: text === selectedKey })}\n            >\n              <span\n                className={Styles['item-text']}\n                onClick={() => handleItemSelection(text)}\n                role=\"button\"\n                tabIndex={index}\n              >\n                {text}\n              </span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </span>\n  );\n};\n\nDropdown.propTypes = {\n  className: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nDropdown.defaultProps = {\n  className: null,\n  selected: null,\n};\n\nexport default Dropdown;\n"],"names":["context","classNames","bind","Styles","Dropdown","items","selected","onChange","className","useState","isExpand","setExpand","selectedKey","setSelection","dropdownItemsRef","useRef","isExpandRef","updateToggle","toggleState","current","handleItemSelection","key","removeFocus","target","contains","useEffect","window","addEventListener","removeEventListener","expanded","active","list","map","text","index","propTypes","PropTypes","string","array","isRequired","func","oneOfType","number","defaultProps"],"mappings":"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"}